# ViveChat/ViveGame 프로젝트 컨텍스트

## 프로젝트 개요
- **프로젝트명**: viveChat (실제로는 viveGame)
- **프로젝트 유형**: 실시간 채팅 + 온라인 게임 플랫폼
- **기술 스택**: Node.js + Express + Socket.io + SQLite
- **프론트엔드**: HTML/CSS/JavaScript (반응형)
- **포트**: 3000 (서버)

## 핵심 기능
### 1. 실시간 채팅 시스템
- Socket.io 기반 실시간 메시지 전송
- 어드민 메시지 구분 표시 (KING 표시)
- 온라인 사용자 목록 실시간 표시
- 메시지 DB 저장 및 채팅 히스토리 관리
- 어드민 채팅 삭제 기능

### 2. 회원 관리 시스템
- 회원가입/로그인 (이메일, 닉네임, 비밀번호)
- 세션 토큰 기반 인증
- 중복 로그인 감지 및 방지
- 어드민 계정 구분 (ogf2002 계정이 자동 어드민)

### 3. 게임머니 시스템
- 회원별 게임머니 잔고 관리
- 어드민의 머니 충전/차감 기능
- 게임별 베팅/당첨 내역 추적

### 4. 4가지 게임 제공
#### A. 그래프 게임 (Graph Game)
- 실시간 배당률 변화 그래프
- 베팅 타임 (30초) + 라운드 진행 (10초)
- 사용자가 원하는 시점에 스톱하여 수익 확정
- 터지기 전에 스톱하지 않으면 베팅금 손실

#### B. 바카라 (Baccarat)
- 플레이어/뱅커/타이 베팅
- 20초 베팅 타임
- 실제 카드 분배 로직
- 배당률: 플레이어 2배, 뱅커 1.95배, 타이 8배

#### C. 슬롯머신 (Slot Machine)
- 3릴 슬롯머신
- 7가지 심볼 ('🍒', '🍋', '🔔', '🍀', '7️⃣', '💎', '🍉')
- 다양한 배당표 (7️⃣ 3개 = 100배, 💎 3개 = 50배 등)

#### D. 경마 게임 (Horse Racing)
- 8마리 말 경주 시뮬레이션
- 30초 베팅 타임
- 등수별 고정 배당 (1등 2.5배, 2등 1.5배, 7등 1배, 8등 2배)
- 실시간 경주 진행 애니메이션

### 5. 어드민 기능
- 사용자 목록 및 머니 관리
- 게임별 통계 조회
- 게임 데이터 전체 삭제 (바카라, 그래프)
- 플레이어별 게임 통계 조회

## 기술 아키텍처
### 서버 사이드
- **Express.js**: 웹 서버 및 API 라우팅
- **Socket.io**: 실시간 통신 (채팅, 게임 상태)
- **SQLite**: 데이터베이스 (파일 기반)
- **bcrypt**: 비밀번호 해싱
- **express-session**: 세션 관리
- **express-rate-limit**: API 요청 제한

### 클라이언트 사이드
- **바닐라 JavaScript**: 프론트엔드 로직
- **Socket.io Client**: 실시간 통신
- **반응형 CSS**: 모바일 대응
- **DungGeunMo 폰트**: 레트로 게임 스타일

### 데이터베이스 구조
#### 주요 테이블
1. **users**: 회원 정보, 게임머니 잔고
2. **messages**: 채팅 메시지 (soft delete 지원)
3. **graph_games/graph_bets**: 그래프 게임 관련
4. **baccarat_games/baccarat_bets**: 바카라 게임 관련
5. **slot_games**: 슬롯머신 게임 기록
6. **horse_race_rounds/horse_race_bets**: 경마 게임 관련

## 프로젝트 상태
- **현재 상태**: 모든 핵심 기능 구현 완료
- **배포 상태**: 로컬 개발 환경 (포트 3000)
- **게임 상태**: 4가지 게임 모두 정상 작동
- **실시간 기능**: 채팅, 게임 진행 모두 실시간 동작

## 개발 환경 및 도구
- **Taskmaster**: 프로젝트 태스크 관리 도구 연동
- **Cursor/Roo**: AI 개발 어시스턴트 규칙 설정
- **Memory Bank**: 프로젝트 컨텍스트 관리

## 보안 및 인증
- 세션 토큰 기반 인증
- 중복 로그인 방지 (session_token 검증)
- 어드민 권한 체크
- API 요청 제한 (특히 어드민 삭제 기능)
- 비밀번호 bcrypt 해싱

## 향후 확장 가능성
- Docker 컨테이너화
- HTTPS 적용
- 외부 데이터베이스 연동 (MySQL, PostgreSQL)
- 추가 게임 종류
- 모바일 앱 개발
- 결제 시스템 연동